<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>
    </head>
    <body>
        <div id="game"></div>
        <script>
            const phaserConfig = {
                type: Phaser.AUTO,
                parent: "game",
                width: 1280,
                height: 720,
                backgroundColor: "#ffffff", // White background
                scene: {
                    preload: preloadScene,
                    create: createScene,
                    update: updateScene
                }
            };

            const game = new Phaser.Game(phaserConfig);

            function preloadScene() {
                // Ensure assets are inside the "assets" folder in GitHub
                this.load.atlas("Knuckles", "./assets/Knuckles.png", "./assets/Knuckles.json");

                // Error handling if files fail to load
                this.load.on('loaderror', (file) => {
                    console.error("Failed to load:", file.src);
                });
            }

            function createScene() {
                // Create animation using Knuckles' frames
                this.anims.create({
                    key: "run",
                    frameRate: 10,
                    frames: this.anims.generateFrameNames("Knuckles", {
                        prefix: "frame_",
                        suffix: ".png",
                        start: 0,
                        end: 31  // Adjust based on available frames
                    }),
                    repeat: -1
                });

                // Create Knuckles sprite and start animation
                let knuckles = this.add.sprite(640, 360, "Knuckles");
                knuckles.play("run");
            }

            function updateScene() {}

        </script>
    </body>
</html>
